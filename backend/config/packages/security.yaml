security: 
    password_hashers: 
        App\Entity\User: 
            algorithm: 
                auto 
    providers: 
        app_user_provider: 
            entity: 
                class: 
                    App\Entity\User         
                property: 
                    email 

    firewalls: 
        dev: 
            pattern: 
                ^/(_(profiler|wdt)|css|images|js)/ 
            security: 
                false 
        login:
                pattern: ^/api/login
                stateless: true
                json_login:
                    check_path: /api/login
                    success_handler: lexik_jwt_authentication.handler.authentication_success
                    failure_handler: lexik_jwt_authentication.handler.authentication_failure
        api:
            pattern:   ^/api
            stateless: true
            jwt: ~
        main: 
            lazy: 
                true 
            provider: 
                app_user_provider 
            form_login: 
                login_path: 
                    app_login 
                check_path: 
                    app_login 
                default_target_path: 
                    admin_course_index 
            logout: 
                path: 
                    app_logout 
                target: 
                    app_login             

    access_control: 
        - { path: ^/login, roles: PUBLIC_ACCESS } 
        - { path: ^/register, roles: PUBLIC_ACCESS } 
        - { path: ^/api, roles: PUBLIC_ACCESS } 
        - { path: ^/api/login, roles: PUBLIC_ACCESS }
        - { path: ^/, roles: ROLE_USER }
    role_hierarchy:
        ROLE_TEACHER:     ROLE_USER
        ROLE_ADMIN:       [ROLE_TEACHER, ROLE_ALLOWED_TO_SWITCH]